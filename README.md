# README: Ассемблер и интерпретатор для учебной виртуальной машины (УВМ)

## Описание проекта

Данный проект реализует ассемблер и интерпретатор для учебной виртуальной машины (УВМ). Программа принимает текстовый файл с инструкциями, преобразует их в бинарный формат, а затем интерпретирует бинарный файл, выполняя команды УВМ. Результаты выполнения сохраняются в формате JSON.

---

## Структура проекта

### Основные файлы:

1. **assembler_interpreter.py** - основной Python-скрипт, реализующий ассемблер и интерпретатор.
2. **program.txt** - входной файл с текстовой программой для ассемблера.
3. **program.bin** - бинарный файл, сгенерированный ассемблером.
4. **program_log.json** - JSON-файл, содержащий лог ассемблированных инструкций.
5. **result.json** - JSON-файл, содержащий результаты выполнения интерпретатора.

---

## Как использовать

### 1. Установка Python
Перед началом работы убедитесь, что Python установлен на вашем компьютере. Вы можете скачать Python с [официального сайта](https://www.python.org/downloads/).

Проверьте установку:
```bash
python --version
```

### 2. Подготовка программы
Создайте текстовый файл `program.txt` с инструкциями для ассемблера. Пример файла:
```
LOAD_CONST 3 228
LOAD_MEM 13
STORE_MEM 19 473
MIN 27 626 502
```

### 3. Запуск программы

Сохраните скрипт `assembler_interpreter.py` и выполните его в терминале:
```bash
python assembler_interpreter.py
```

После выполнения скрипт создаст три выходных файла:
- `program.bin` - бинарный файл программы.
- `program_log.json` - лог ассемблирования инструкций.
- `result.json` - результаты выполнения интерпретатора.

### 4. Проверка результата

Откройте файл `result.json`, чтобы увидеть значения памяти после выполнения программы.

---

## Пример работы

### Входной файл `program.txt`:
```
LOAD_CONST 3 228
LOAD_MEM 13
STORE_MEM 19 473
MIN 27 626 502
```

### Лог ассемблера `program_log.json`:
```json
[
    {
        "command": "LOAD_CONST",
        "operands": ["3", "228"],
        "instruction": "83001c00"
    },
    {
        "command": "LOAD_MEM",
        "operands": ["13"],
        "instruction": "0d000000"
    },
    {
        "command": "STORE_MEM",
        "operands": ["19", "473"],
        "instruction": "33003b00"
    },
    {
        "command": "MIN",
        "operands": ["27", "626", "502"],
        "instruction": "5b4e01f6"
    }
]
```

### Результат интерпретатора `result.json`:
```json
{
    "memory": [0, 0, 0, 228, 0, 0, 0, 502, 0, 0]
}
```

---

## Структура инструкций

1. **LOAD_CONST A, B**: Загружает значение `B` в стек.
2. **LOAD_MEM A**: Загружает значение из памяти в стек.
3. **STORE_MEM A, B**: Сохраняет значение из стека в память по адресу `B`.
4. **MIN A, B, C**: Выполняет операцию `min()` с элементами из стека.

---

## Технические требования
- Python 3.7+
- Библиотеки: `json`, `struct`

---

## Возможные улучшения
- Добавить поддержку большего количества инструкций УВМ.
- Реализовать тестирование с использованием `unittest`.
- Добавить обработку ошибок для некорректных входных данных.